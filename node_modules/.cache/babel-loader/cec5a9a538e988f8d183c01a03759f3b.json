{"ast":null,"code":"import _regeneratorRuntime from \"/home/sotatek/Music/nft-marketplace-reactjs-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/sotatek/Music/nft-marketplace-reactjs-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/sotatek/Music/nft-marketplace-reactjs-master/src/components/ProductDetail/ProductItem.jsx\";\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Web3 from \"web3\";\nimport AuthorLink from \"../AuthorLink\";\nimport UserAvatar from \"react-user-avatar\";\nimport { ACCEPT_TOKEN } from \"../../config\";\nimport { toLowerCase } from '../../utils';\nimport \"./ProductItem.css\";\n\nvar ProductItem = function ProductItem(_ref) {\n  var data = _ref.data,\n      onShowSell = _ref.onShowSell,\n      onShowOrder = _ref.onShowOrder,\n      ind = _ref.ind,\n      connectedAddress = _ref.connectedAddress,\n      onClickCancel = _ref.onClickCancel;\n\n  var renderAction = function renderAction(data) {\n    var isOwner = toLowerCase(data.user.wallet_address) === toLowerCase(connectedAddress);\n\n    if (isOwner) {\n      if (data.status === \"selling\") {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return onClickCancel(ind);\n\n                  case 2:\n                    return _context.abrupt(\"return\", _context.sent);\n\n                  case 3:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          })),\n          className: \"sc-button style bag cc-button pri-3\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }\n        }, \"Cancel\"));\n      } else if (data.status === \"activated\") {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          className: \"sc-button style bag fl-button pri-3\",\n          onClick: function onClick() {\n            onShowSell(ind);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }\n        }, \"Sell\"));\n      }\n    } // if not Owner, allow to buy.\n\n\n    return /*#__PURE__*/React.createElement(\"button\", {\n      className: \"sc-button style bag fl-button pri-3\",\n      onClick: function onClick() {\n        return onShowOrder(ind);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, \"Buy\"));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fl-item col-xl-3 col-lg-4 col-md-6 col-sm-6 product__item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sc-card-product explode\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-media\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/detail/\".concat(data.id),\n    state: {\n      data: data\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, data.pet && data.pet.image ? /*#__PURE__*/React.createElement(\"img\", {\n    src: data.pet.image.url,\n    alt: \"Pet\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/assets/images/no-img.jpeg\",\n    alt: \"NoImg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/detail/\".concat(data.id),\n    state: {\n      data: data\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, data.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tags\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"bsc\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"meta-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UserAvatar, {\n    size: \"44\",\n    name: data.user.display_name || \"NA\",\n    style: {\n      fontSize: \"2rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, data.user ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, \"Owned By\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AuthorLink, {\n    data: data.user,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }))) : null)), data.listing_price ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper-price flex align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"h-price text-color\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, Web3.utils.fromWei(data.listing_price, 'ether')), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-warning type-token\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, ACCEPT_TOKEN))) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, data.user ? renderAction(data) : null)));\n};\n\nProductItem.defaultProps = {\n  data: {},\n  onClick: function onClick() {}\n};\nexport default ProductItem;","map":{"version":3,"names":["React","Link","Web3","AuthorLink","UserAvatar","ACCEPT_TOKEN","toLowerCase","ProductItem","data","onShowSell","onShowOrder","ind","connectedAddress","onClickCancel","renderAction","isOwner","user","wallet_address","status","id","pet","image","url","name","display_name","fontSize","listing_price","utils","fromWei","defaultProps","onClick"],"sources":["/home/sotatek/Music/nft-marketplace-reactjs-master/src/components/ProductDetail/ProductItem.jsx"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Web3 from \"web3\";\nimport AuthorLink from \"../AuthorLink\";\nimport UserAvatar from \"react-user-avatar\";\n\nimport { ACCEPT_TOKEN } from \"../../config\";\nimport { toLowerCase } from '../../utils';\nimport \"./ProductItem.css\"\n\nconst ProductItem = ({\n  data,\n  onShowSell,\n  onShowOrder,\n  ind,\n  connectedAddress,\n  onClickCancel\n}) => {\n\n  const renderAction = (data) => {\n    const isOwner = toLowerCase(data.user.wallet_address) === toLowerCase(connectedAddress);\n    if (isOwner) {\n      if (data.status === \"selling\") {\n        return (\n          <button\n            onClick={async () => await onClickCancel(ind)}\n            className=\"sc-button style bag cc-button pri-3\">\n            <span>Cancel</span>\n          </button>\n        );\n      } else if (data.status === \"activated\"){\n        return (\n          <button\n            className=\"sc-button style bag fl-button pri-3\"\n            onClick={() => {\n              onShowSell(ind);\n            }}>\n            <span>Sell</span>\n          </button>\n        );\n      }\n    } // if not Owner, allow to buy.\n    return (\n      <button\n        className=\"sc-button style bag fl-button pri-3\"\n        onClick={() => onShowOrder(ind)}>\n        <span>Buy</span>\n      </button>\n    );\n  };\n\n  return (\n    <div className=\"fl-item col-xl-3 col-lg-4 col-md-6 col-sm-6 product__item\">\n      <div className=\"sc-card-product explode\">\n        <div className=\"card-media\">\n          <Link to={`/detail/${data.id}`} state={{ data }}>\n            {data.pet && data.pet.image ? (\n              <img src={data.pet.image.url} alt=\"Pet\" />\n            ) : (\n              <img src=\"/assets/images/no-img.jpeg\" alt=\"NoImg\" />\n            )}\n          </Link>\n        </div>\n        <div className=\"card-title\">\n          <h5>\n            <Link to={`/detail/${data.id}`} state={{ data }}>\n              {data.name}\n            </Link>\n          </h5>\n          <div className=\"tags\">bsc</div>\n        </div>\n        <div className=\"meta-info\">\n          <div className=\"author\">\n            <div className=\"avatar\">\n              <UserAvatar\n                size=\"44\"\n                name={data.user.display_name || \"NA\"}\n                style={{ fontSize: \"2rem\" }}\n              />\n            </div>\n            <div className=\"info\">\n              {data.user ? (\n                <>\n                  <span>Owned By</span>\n                  <h6>\n                    <AuthorLink data={data.user} />\n                  </h6>\n                </>\n              ) : null}\n            </div>\n          </div>\n          {data.listing_price ? (\n            <div className=\"price\">\n              <span>Price</span>\n              <div className=\"wrapper-price flex align-items-center\">\n                <p className=\"h-price text-color\">\n                  {Web3.utils.fromWei(data.listing_price, 'ether')}\n                </p>\n                <p className=\"text-warning type-token\">{ACCEPT_TOKEN}</p>\n              </div>\n            </div>\n          ) : null}\n        </div>\n        <div className=\"card-bottom\">\n          {data.user ? renderAction(data) : null}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nProductItem.defaultProps = {\n  data: {},\n  onClick: () => {},\n};\n\nexport default ProductItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}